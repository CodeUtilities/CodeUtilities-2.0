package io.github.codeutilities.commands.schem;

import com.mojang.brigadier.CommandDispatcher;
import com.mojang.brigadier.arguments.StringArgumentType;
import com.mojang.brigadier.builder.LiteralArgumentBuilder;
import io.github.codeutilities.commands.Command;
import io.github.codeutilities.commands.arguments.ArgBuilder;
import io.github.codeutilities.schem.loaders.LitematicaLoader;
import io.github.codeutilities.schem.utils.DFUtils;
import io.github.codeutilities.schem.Schematic;
import io.github.codeutilities.schem.loaders.MCEditSchematicLoader;
import io.github.codeutilities.schem.loaders.MSchematicReader;
import io.github.codeutilities.schem.loaders.MSpongeSchematicReader;
import io.github.codeutilities.schem.sk89q.jnbt.NBTInputStream;
import io.github.codeutilities.util.*;
import io.github.cottonmc.clientcommands.ArgumentBuilders;
import io.github.cottonmc.clientcommands.CottonClientCommandSource;
import net.minecraft.client.MinecraftClient;
import net.minecraft.client.toast.SystemToast;
import net.minecraft.item.ItemStack;
import net.minecraft.item.Items;
import net.minecraft.text.LiteralText;
import org.apache.commons.io.FilenameUtils;

import java.io.File;
import java.io.FileInputStream;
import java.io.IOException;
import java.util.zip.GZIPInputStream;

public class SchemCommand extends Command {

    @Override
    public void register(MinecraftClient mc, CommandDispatcher<CottonClientCommandSource> cd) {
        cd.register(subcommand(mc, ArgBuilder.literal("schem")));
        cd.register(subcommand(mc, ArgBuilder.literal("litematic")));
        cd.register(subcommand(mc, ArgBuilder.literal("schematic")));
    }

    public LiteralArgumentBuilder<CottonClientCommandSource> subcommand(MinecraftClient mc, LiteralArgumentBuilder<CottonClientCommandSource> literal){
        literal.then(ArgBuilder.literal("load")
                .then(ArgumentBuilders.argument("filepath", StringArgumentType.greedyString())
                        .executes(ctx -> {
                            if (mc.player.isCreative()){
                                String arg = StringArgumentType.getString(ctx, "filepath");
                                File target = new File("schematics/" + arg);
                                String format = "";

                                if (!target.getName().endsWith(".litematic") && !target.getName().endsWith(".schematic") && !target.getName().endsWith(".schem")) {
                                    if (new File("schematics/" + arg + ".litematic").exists()) {
                                        target = new File("schematics/" + arg + ".litematic");
                                        format = "litematic";
                                    }
                                    if (new File("schematics/" + arg + ".schematic").exists()) {
                                        target = new File("schematics/" + arg + ".schematic");
                                        format = "schematic";
                                    }
                                    if (new File("schematics/" + arg + ".schem").exists()) {
                                        target = new File("schematics/" + arg + ".schem");
                                        format = "schem";
                                    }
                                } else {
                                    if (target.getName().endsWith(".litematic")) {
                                        format = "litematic";
                                    }
                                    if (target.getName().endsWith(".schematic")) {
                                        format = "schematic";
                                    }
                                    if (target.getName().endsWith(".schem")) {
                                        format = "schem";
                                    }
                                }

                                final String finalFormat = format;
                                final File finalFile = target;

                                if (target.exists()) {
                                    System.out.println(target.exists());
                                    new Thread(() -> {
                                        try {
                                            MSchematicReader reader;

                                            if(finalFormat.equals("schematic")) {
                                                try {
                                                    NBTInputStream nbtStream = new NBTInputStream(new GZIPInputStream(new FileInputStream(finalFile)));
                                                    reader = new MCEditSchematicLoader(nbtStream);
                                                } catch (IOException ignored) {
                                                    NBTInputStream nbtStream = new NBTInputStream(new GZIPInputStream(new FileInputStream(finalFile)));
                                                    reader = new MSpongeSchematicReader(nbtStream);
                                                }
                                            } else if(finalFormat.equals("schem")) {
                                                NBTInputStream nbtStream = new NBTInputStream(new GZIPInputStream(new FileInputStream(finalFile)));
                                                reader = new MSpongeSchematicReader(nbtStream);
                                            } else if(finalFormat.equals("litematic")) {
                                                NBTInputStream nbtStream = new NBTInputStream(new GZIPInputStream(new FileInputStream(finalFile)));
                                                reader = new LitematicaLoader(nbtStream);
                                            } else {
                                                ChatUtil.sendMessage("[Schem2DF] The file has to be a litematic, schematic, schem or vanilla nbt format.", ChatType.FAIL);
                                                return;
                                            }

                                            ChatUtil.sendMessage("[Schem2DF] Loading the file §e" + finalFile.getName() + "§e...", ChatType.INFO_YELLOW);

                                            Schematic schematic = reader.read();
                                            reader.close();

                                            String[] templateDatas = DFUtils.GenerateSchematicFunction(schematic, FilenameUtils.removeExtension(finalFile.getName()));
                                            System.out.println(schematic.name);
                                            for (int i = 0; i < templateDatas.length; i++) {
                                                ItemStack stack = new ItemStack(Items.NETHER_QUARTZ_ORE);
                                                TemplateUtils.compressTemplateNBT(stack, "Schem2DF Data", "CodeUtilities", templateDatas[i]);
                                                stack.setCustomName(new LiteralText(new StringBuilder().append("§b§lFunction §3» ").append(schematic.name == "Unnamed" ? schematic.name : FilenameUtils.removeExtension(finalFile.getName())).append(" #").append(i+1).toString()));
                                                ItemUtil.giveCreativeItem(stack, false);
                                                Thread.sleep(2);
                                            }

                                            ChatUtil.sendMessage("[Schem2DF] The file has successfully been loaded!", ChatType.SUCCESS);
                                            ChatUtil.sendMessage("[Schem2DF] Connect all Code Templates together, and use it with §dSchem2DF Builder§b.", ChatType.INFO_BLUE);
                                            ChatUtil.sendMessage("[Schem2DF] Schem2DF Builder can be obtained with §d/schem builder§b.", ChatType.INFO_BLUE);
                                            ToasterUtil.sendToaster("Structure File Loaded!", finalFile.getName(), SystemToast.Type.NARRATOR_TOGGLE);
                                        } catch (Exception e) {
                                            ChatUtil.sendMessage("An error occurred while executing this command.", ChatType.FAIL);
                                            e.printStackTrace();
                                        }
                                    }).start();
                                } else {
                                    ChatUtil.sendMessage("The file §6" + arg + "§c was not found.", ChatType.FAIL);
                                }
                            }else{
                                ChatUtil.sendTranslateMessage("codeutilities.command.require_creative_mode", ChatType.FAIL);
                            }
                            return 1;
                        })))
                .then(ArgBuilder.literal("builder")
                        .executes(ctx -> {
                            if (mc.player.isCreative()) {
                                ItemStack stack = new ItemStack(Items.STICKY_PISTON);
                                String templateData = "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";
                                TemplateUtils.applyRawTemplateNBT(stack, "Schem2DF Builder", "CodeUtilities", templateData);
                                stack.setCustomName(new LiteralText("§b§lFunction §3» §dSchem2DF Builder"));
                                ChatUtil.sendMessage("You received the §dSchem2DF Builder§b! Place it down in your codespace and open the chest to get functions!",
                                        ChatType.INFO_BLUE);
                                ItemUtil.giveCreativeItem(stack, true);
                            } else {
                                ChatUtil.sendTranslateMessage("codeutilities.command.require_creative_mode", ChatType.FAIL);
                            }
                            return 1;
                        })
                )
                .then(ArgBuilder.literal("saver")
                        .executes(ctx -> {
                            if (mc.player.isCreative()) {
                                ItemStack stack = new ItemStack(Items.PISTON);
                                String templateData = "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";
                                TemplateUtils.applyRawTemplateNBT(stack, "Schem2DF Saver", "CodeUtilities", templateData);
                                stack.setCustomName(new LiteralText("§b§lFunction §3» §dSchem2DF Saver"));
                                ChatUtil.sendMessage("You received the §dSchem2DF Saver§b! Place it down in your codespace and open the chest to get functions!",
                                        ChatType.INFO_BLUE);
                                ItemUtil.giveCreativeItem(stack, true);
                            } else {
                                ChatUtil.sendTranslateMessage("codeutilities.command.require_creative_mode", ChatType.FAIL);
                            }
                            return 1;
                        })
                )
                .then(ArgBuilder.literal("transferer")
                        .executes(ctx -> {
                            if (mc.player.isCreative()) {
                                ItemStack stack = new ItemStack(Items.PISTON);
                                String templateData = "H4sIAAAAAAAAAO28R7LsyLUtOJVr2fmNyP+hVZb9BrQIiIAG4pFGg9YioAEax/MGUb03ssJNko8yq5K0rDIW7UbjHMDh7tv3crGWC+C338XtkDTzdz/8x2+/q9Lvfvj9/Xff/+H/D9/la5/ct9FU3JHuOEvW/SH2ffVjyNdUP958/10aLdEfY92hv+WE3+iM8wOMkej3VfrDr77rqj5LpihffuiiIuuX6DfzEt1h6W+KNprn34xRn/3qu++XqPjht2k1j210/vBbPeqyH/7Hb3/1XXYsU/Srr9Z/9V08tOl9mUftnH3/q9ti1FbJnwWsfZpN7des/yxwXqaqyZZyGtai/LPwIc7XOYmWv4i83Obu219996vvfvfrv7r/H7/73ffssPbLD1D8u+/um+/mdli++wH83fffkPm7yEC/ADLZ15L/JimzefkjFK81vr1j1qapFi9q12z+4YagPMdsStY4+yEZ0uzO+IbrduG2dBfzK17RupTD9GOZrTPq1ai//bs96W9Afwz9r/+M/+s/W+Fu/Es19F/+6z+R//o/77+xfVvvnCnq5zybfkyyZdN8R7lTQffdV3s/ZiChs0z/8WdAIQwTscFwlOAqFC7PJqR3sG8US7uHCsg4wtEuBW8mohOi7VBbY6OYzg5wCMa+8LYCJpdJJbty4jQdRd8yZV7RkqTD+qtlEoY1RthLYkvJVPNFF+ecMv7rfBW9+BFpfKw8Xn5bh8Z2PdkmCBqkTcFxJbQoDgsnwXHmnBM6QJQDOQJD3B4xjFbSSofrpTAIJdta2keqB7ypadls8jqS+I+hHLK4rIOAKOWIqcZAur0xSAPly+Yug1dqcBCHPq22PABj1FmDZz2P/ojoJXpQ82iqwbA+MhUoH/BCqxU9jAJ0qunKastQI2NV5hOE6FgqQPZpSBIX+Z+ui0Ruf/IlnAyCDTNs7zOUibkpTQ7bhA+sIaFpvpjiMM8+A47QRtkcrDMYkiuAGnCVLgrRldBo03dnjhxszjwVVy15L9IQJFe5cAcXzDc7kWHAI31S3qQRGF91H3hqECdjvcGPmwACTuZsID2HQpQ4c1EpIUdRcuWE7TX9UCGPbac7Q3sfPRK6fFbeUcUcn2C845d8w3N0MzivbTSDII+pisbp6GNooQvZ4XzGL87jlTN7L5w7AO7eG7sVxSLi4M9lUXBc2JSF8E4oDVa87eCyLJyZiCNivlYf3bcHUFYIGRXexranuL4CFDlgrQGJCE5AoZ8FnQ7gMOHgj5Xs3WywkmbV+seS8BjnnTwr7Yd0rjHZYAfWbonTdg9hrlIZoBM8WCkOkjLhxfEvCDwJTBFico+VBMAehucd2wOyL5xitgvCAAw2wI+AMduOYC1KaCz9ceExV8TsnVguP9XQSvuN2p0Bq4MUOVIGmG3Lq6lwrG0/C9HuU9af5dEOKegBbN4laBbium9+Fn/jAco9AYUBOpeijXAr8xeXqu2r1pPqXUsjXGWKZLTuig+wvwfymynDF/eRkUisqcKnG9LRgKneLfzZS+oTTzKW2nebkvZ3046ocrkvQi8st8qfxGCprDQdKvLY4jwD1+cMGHsb79b7GYKbvxeTHMoLCb9EojUjp4rorWsOr1cp3XyR7v6BwJhG4rtU+Pmg7THOqGVRfeKE7LIxvVIgkoIuNruenyjFdCpZMoz7CdrlKY5dHkndvoPR2158Mfns4LSLqA9ghuxJmVmhWRA1YBefCI/NrWXHi9U8gnG5XUcz4nFCCvWM02ZcpH1r3migUShVnpSe+WewTFRgjBqhZswGofz2eAN91e81w8nLHrsWE1LEGi9AdeTq2i5IepbB1CzKpX3eLL0AF92ln3KzYoRl4FHduWvoUrd4w0ewUIoonaUvq7KRFuF6LZ75JGkteO3eEJn4Vgt5RT52IQYGHm29tsTkMLEZfroApAkkHS1KacNPdiWQKFQk9m1sDWbAPCVFh+RhuflgzXPtSOkCq35FOC44EP3Y9N18gCNgUsrGVvYqjA8GNQP5obniTtM/UtP3P4s5l2n9f4k4k6H9A+tEnzX6kT7+mzv/m2vukn7/M2j8T3ml0dT85m8zvAnrD1n936T922R/xXA/m+Dhb9LnJ5BBviHzE8ig/26iUGVvw83P1oUa5IP+EBvHrQttfoh9Xkn8Ym1R9zHyGMs26Jj42A22qI25EPnsijVLtGgBTkkIAwwldSCAPALvp5GuEEqk5Rj7OJbfccGu7i6lqxs/IiccDLM39uglvs28zyuLVXTsD1NsBC7hmnfjInTYCTqAf943w0WKcLDF0/WuhDBUZNuQ5ewUPAW25uM6nJ495Re722zjNkJZJwfKV8zrDanYHL5Ho58lJopf7+PmVlJghEZvN5GE/Chm2nfZYAwM8rWZFXeMoTbt3o6D+abHAtJqjtf7E7nCTs0pM7sz57w6jD1I13DU25qd0qJWhOcmYZoX87QiPBzKW566q+QVAM2kzJ6VjluK4hvIdRsaAe4afTkfjwN+q8brAbYOvi6HjKZbfjMY25InbAnE0jwY8ZWX7r5Nnd7V+t4y2LuAKNJOyFcQ2oavedEtmypXYQ6EZZXyWDAHP4G+7gB85IiOxW9xlUuVq7Z3NmYVz9lz1K6ZkfUizPHXLYElPBde16lLlYgygXeLoiqxSjifOkjp8wvjR2XTbfNB2F7AFMctwZ/Pj9jHXBQVJ5Z6TzzDVafFCBuK3dkB2zdwrflVSstCg4+X7RBTEFVbRlma2CNyPRhn2YZrCEYgr6QOsITXXqn3LOCu6ep9Rh/GDKcXNGXPFGBES5WuAIm4D6NAz2s62BmHuU8jbt56vuBHwQf0LR8SQYgv+LOPoLlglKJ0Tm073jE7ZqZUxWs0fNZuIk+kwkeEPNehwAnQ87lezR/VYonnckbQaRjLesRgptMNLdeS4ZkgG7Mu5lbOc3VrKRDiOqTKFtPBU0iaURMzx2QB24KMJLA5J1ErNbk5XSf4Szy4vhvBAdSOvjkNLWFabgBzNYef2qwLfcReercn5aHeTTnKRA6tWXQGCaFiQV+fpyuSgeG9BG05RcbpOsDOUVIcITpB13VKg4z+wTnfVeC30Q+eMoVq2oEtUVCFiRWvDsEtUCEUvxDmLGAIAoc2Imh3DmP26EJ0iNiuD0mtMSzh+3lxLUCHJ4AEILAAcA4FdtKNuJxB4ov3J+LdMy9UKIMRC8UZbzAV08JKpEVgfHV8XggoRDBjGvRZXUI2ERkmlBUkdkv/0+SlLBSwz4NpFqJoKxNzdCSnPCS4PHhMxiweJRS+goLXYWKe0Kh8TLL8dvtI9/cq9Xkcr1HSeKYN8mrJ6E0k76GW8NQXX+Mr8szJQmjQnzZneJ/8mq75EpFLwssQkx9K3jec7YNTSr4ue/vEG5rq7cV/LlK/R7j//U13/cO6648k8rNpFPsmMH4CGfwbMj+BDPENmZ9AhvwFkOnvAt6qtLgd/M0w/TccUpVmQhsV860J/2WGxOJHU38zFMGc8OWP08C/PxH8Xr1d++E/vhb9L8P/v6/nP3lzZm077H/pzx/dmL98rcIvVb8MX+YxS6qo/fLjhsaXH6X+3/HwX82TrUqyL19nFtH/+mJnydCnX6Zh/zLkX/44n5m/dFGTzf+/8KZavmTRfH65qyMZxvNrLXwZo3nJfl8r/+snnfjXcauYovMnOs//swiI76npXyZm1qq9C/cz0v6t4a/o/TM27Wj7Jy1O2Wetpiz9kg/Tl/m/m+Pfq7Zf/+57vk/KqF+6mzLmu57+asRs1x+HyXZrf4Dm3/367w/N1DfS+qnttV9i5/FfainlHq/hn7/BBvuuC8Qaw9IAODWRr8h89JQd75UNGives+noBN70Zx6h6QMLIZTDZSp4j4wkuuPN2uQi+qQUSh+1Ufu8Jx/5BduvO893YozvpFZqzZfkekZq0mkrBJQVPu6XxuJC+ZFW0TaoYra75btspdfEV0RWFx8JxhHwgJEeSGrf90f2DMTBaQN3xxFhUPTOPcgWPc+PGT85TLOqXDT756G5w3uv/a5WDtvrCD5otOcJaUA2D7jVBSCcBU/zfdmVcCiux7tGYUyRWn1aV5vUXSKg0qbyxtuMBWHZkEBq2bOOIeTLD+s+XHH0RhlPMUZwKz283m4UN36f0C7MVxYPK8lKrowpTpCAx3n1yTrwrJ9rByq1u96Tc9rpWl70YyU/BL0zotIo2Ha+SEEaHUrzTWkCdFiS1G2Y5/0Eg3M+lrkSuzW1nSfQIQFNSOToG2avix/5laX6ScRjkUKljEWiPXM0XQ9kcFg+0sb7KMSlZ3S8GHyecsDCCUDsRdyILtxqI7G1UN3gzY7XGUYM0jRM16mXnLp9LkWM6Guqkzm2EpcOcOdpCqaNu3ZbQJIcYQ6vGsWDpOEr1frmmWNEQQJup0g6NT8WKmfiS4T9covCA6HEE84D2WtfqZIXKohe3tinb6eTRkyTtxFasRfOr6VLo+6k0nCpC0MdDEnBEiecnUhPfaSRo2ilXYdnYMjXFPD4TGDXoJF9lpO5pSXQZEqtUCo0NFrA1QDGtZH+Qk2SjtrTS2cMDXokHWnrORJ5FA3SxpbspoZiq5E8nqcSMUwetosVTlr62pwuGaHWcHBE9THMlh9Fvw5Htr8+EtUgN05C7IYDf46fYASwBH14ZL9d4DCpj/dqQ4Q3rQiANLErE/nwmoQU6czGIYnxgJC+M1CEzPEc0x8oqAI8f3cDFbXhnLKdjIJ4g+gVnDLT8wPsQpitwm5o1reFgH92Awb+Rzjglzhj8W9Kj7/E7tS/FD0qQ9X/bHrUvRDxiVgvrYfgjQyErmO5umj90SoB7J2Yge2hq07O1RJWteQTtUa3ckcFjUv4QujgHqrneCbPEWtKwk4e/MNAr/eYdMIb4/rmkXkIVweg315ikMGCABov3iaT+gIBYH9QafWuRPHp0cxrF/VJXTNJv9LSi1eGYJiZREP1jabCQb2k/fW8Vl0cHjIsOfglMCEaxEplahRuFk5CIgbdSdulsPXVGilTo6XRuSjIo4BcErq0U7E0gXBVJ4v4jINmOX3GjVpPBNi3vL8vUYOxcjIwXjFLV9J86+OWm7AuFthqp30tNhmr7iX52rUfh6qWvtYdWG8nKR9Fb9tpJGvsUpp3E6y6VrDcYfU6XH9tEC/GnspYZ3gvRizpb4DFDlFQmqFmSdhHiMCMi3ogoAAA1WkjeKDWS02NQfF0Usm1+iQeDNJJSmOAYPF8PNOJUG20CoIAq6aQeNJP0EG9cbpcnLp5+dKAZ/FU9kF/swgRtCxduyaFPMOxNTq6Mr3CbEVlQVXE/BhpXYxoQofgABVXlSRuoZombrRo1JCrBUAEL9mHxpHPbg9lzDLY99z3z8e1axRdhwjZah3HDHV8WecrAVsyVJ8Yfc4U56AlX5yMg566uT9D5oyfIF1UvoQUmU6LpixYsY6Op8DRzjoHRUY8iMbLFr9Bbn6LBcSi0G42UtA3o6gbP0NNBdTKtV3XFca60ImjLYbHeGRmeiPt7PdAZNoaLhw99vTUvkHFKjPt1uIfymjQr5aZ82ePqiuOH0ApNdjgS83DVlDUNWeZ2zAhh5VbUIQVBU1SwoJX8gn1ySrNaw28iQH7RUSyg2XPjnyN1qfa/eEtPJtybPlJJzSBMR3p8yqBV67G3oNsUxdAxGJz6j70HlaJmIzXh5lwSYujiqe7yGOsTT37pE1czo23RsNLrvXkZpGF/F6lEfIfHFyhm7vK6zNZwsDFB75kHHcZiswOvHi6sFY1ayZM40XbNKkc30H5YM+rYtvnjEW65CxV6TpMgksY+jHWh0y0pXVFxakn2gM37DKoVIosD0ia2hTGMe/Wf1KeEVRwMK1bxJ69Cbrpu0ieTkM2yJ2KnJbrit4FHciLHHfBPbagHfvC7IDRzHDB7bptEdxpSBV/v7DP6GVtT+0vLH9sdrtcGrSs72rNk1taU4u4b6pXlXG8rXP4iWygTihjAhRUGttYc+O511rNWLn8acY0ri/ukdD4bkj8YtFCLKUV7OEVGT36C+ObDzO+Ov+xyXiAl2W8RwS3yGtwql0wTImTVzfaNAReG3cSUrgPkgNR9AP298poH1CY6Xp4Fh21IqRaJapXFk/C/tDhAFUDEp0ohIcasL2A4toVPcmXHUr1ti+UBQD9g3k+xxcHfDr+KUMfcsdXFDuI2YcXEPAPHXEq+LAzhCrzfGKEW4R5oQF98IcTflqGydRmN3x94A0DxVHYbVkUZ6bCxjrFOOKv52kme8cDOFDaGdvAW99rrpreulWbRE1wjsDB9Q1UJkkEzWIO1OWtQj26vbF2mqlqR6Rz2XGRergT0JQtmErwU1OVxUZ6Lt53qWTZFB3rj/94JCY+FBD6LO62ZiujMkoYZJkuPkI9wwRzqho78HX7SNcGYtt7k/6w9Ew+FcfOCuTJ8cFn7T3z1eQ0utaYa/rfpN0/Je1+T98/X7/8EmdI/qX0i/WPnpQIEB+t9ONWMMlmR+0yCiw0uJBbU7ZcVpY8TsKbzgidx0U23pN7wkpt3D2dT6hCwvltNrdkrSm+xQmZ3wHRZ5zYpthYoPKJugAGedWvyAttXQJB8nrWrX5eni5M5ChZdoRaylw28oCC/qPRYgBtCLMaVj7Z2L3V1BROPZ0g9VbB4RwAhkfjXAvYHp/d3rVcG1qMjy+1Acm30c9erxzDyVyRjZTgAHqO/nozZCk8+tgfs6e6ULQeTysYH9ZnTFFfXrtKgVgbDQb6HHz9njuXQjyVrYv0k7UrL8LuTjny8lTLBRlngkPvrLJT8RPztHLDkanaw9PdQZaARL4go9goT01QoUksEJcLvZJZQraq1REEPN47ACfCdChqeiBq5t4hP1MPerFo7cStXlxwX0Ub3gH9WaNaSmXci14iT8Rpl3RfY6VL6HPH90UEm6IJq+iTSnw7Cj4rd+a2Xn1GS7CaInlrltpNnZR5PFJUdmKwMGRQDEX30V5FOThzXLxeOKDjPeDs45pZZMJndAOtxnUYhIkZY/cGwQybO+jdvMzXnJ1GchTFgbmhaxCfoX1GMG6gBeRECuA/eg3vz9x9Zvr4KLD4PcLS4/ORUkEp5foFg11Brmb7RnkeddYulckCDYySjv293D9JlMwNfPpAOwGYWolWuT5sOntR8Rx6Yy2GQUmOzPS47Ph4jYy4t9lwSKpeQ6r6mWQMz2fHM49O7EtNZw2skPNKniGo6CY92hehY5NjwacD0ryExRIiD8O00g3gFe1ddaupIWP3k1AHs558dihfEu9u5ejwTdw9KAnc+/wJ8zjjzqBb8C8PZ7PSxrgAH6t3KVQMAqrOiXGOYd692gJpVCml3V8Pmn5i9grf2tQdbe/UDokXJ/KU+MnxO5CUg5MJwSkXiZAbmvGNlEAJmE+st9p69i/57mxKBusLQRb0NZDyINue7AS8Ael4DaNs8GY7NFNRmgsjEuzH1poWziaJgt23eH3USe7W6gNVVO+IHcBAgLzzUiJD+BfUtRuuIijRktmGoRfQkPYmYaK9m4+BT8ytJmhQBA4Df2wtH01T0avFMfMDl/as2HAk3V/P5ukf/rwIzqeDy8zTUAbrw+7hK1za2H4kFY2AktpQ6ePn+GyQkwZPB367g4HBdRj7616011uervignpfsxf2kxGbl8SFEdQSITv7BpiqW4HBxZWx+QrH5aOqx5F7OzAxjPAeDecbJRT4iKowGpTWhhwQ9jJMP549LoCl3C0/jGAw5JKk9Mp+P3pDdrVqBD4a/n8smwEH7QndjuYr8dVV6iulrtPjDqHf3hGB5sDjJqVyeb9NyqslWnziM3Q2TeujW4cCajkmybm0OkuPOln/Q1x72c3q8BjMmu1fmPSim48rhEZ33sJZfO/oiAZIOBDlaW/Lbgs0/x+rWP3pyA/olTkD+my7Z/BKnWr56fWueMovSfxUs/tSS2qool9+M6zS22d/fsP7SRWn2JT7/qoX/VHf7OVn/Sa/9nZr43m7WtjX2Ppv+gM9fCLzXNNzCcKm+qsSvCdcp+7qT96NwvGNm+1DIrAJGPtQmiFXGAV3J3FBoTrjrdQIanHwaXLhr7P6UWbpKJGV7d+38dttGrmhcZuVLczTw3cngW+QvnXPB8PJaw3EP7WqQ8FLqH69r+Xrb8sxWdCH3zBnD7zEWPSO87f4+H8XOfGF1RGF9s3+Mp49vGCtTyTvfntImgTcmnfd7u5J1pr77h3hWm0kWdD+7fv9s/lrWr345Ntgafxn2Nb53xqxcGBVdRZIFJtywqcif8lA7aIw7r046oUtZbH0H5paKHvpjOWyqfd/hemeiOifvYc3fGL3bEH5Xb9+r3w6N6Ne702ATejsFrF8J/OasNuzCU/e1I6xp7O0wleEkd9oQ1eu20Tqhkovhx7Ll5v1fAp+5+b/vwfx7uyr66Gudfd1573XwEuO+6cgrgLidbXgolqnU2o/hcdpOSKxeeKQ7S8234iCrthxFOiWZPRX9VTSqa1XYa5Hm7TodmFG2j7ZbOY1IGuoCiQwZEgXNQr5je7Fsl2wPlWpLHQdaqVSRKeGywvaR+f7KTWCvio/JmuAznk870Z5csFqtfu3m3nHppjkE62FOJzpyawJmAntcsKl83zxfn/YUJHur0co5wSQC39BTbqOJJE0wPfG4eXf9tczDOGepEw1bOfX6QsOEfj0YOGSMm+DLYZf3bHI/LhhDgWN4o9fd6lJc6FmXBI9lzSUpvRZbkaMeHAvldK+5MBd48YOzRycYhk1ybXCNqt6c0d4c6IBWuTMz6X6Bid41vBAWAfa3n3pAJi3TEVW4yicCyW2MFuIZDfDU0DBWP1N1TQubWBQu/8SmVJ+LMvb4S8a71AdGgIAub8sSSowukW5waCEOtJnM4UDfAN9PabRmCZ5CYFBnTpom8T2pZ9LkcC+uOaXUVhn4vSupPBvAW8Ysjn8OqdESzEfFXAnlnraN23jNYPuL372cGJtJ3z3PcN/gmkdv7Ckp78tGulVRNRxoQKCvxwPXXUU4vHc5oVAF7XAz9nBIjEFsLQi98IvyqZpS8EFXLDzaMhqbsXRbPfqo5XshXPp1BPSJpXSBJkmfaETiFl5SMw1OaLcmcakn7urYqCPU8FWH/Pp338vpD/8h/x8kjN0/gqS+/5/Q1wuEwjD0viYohCRIkCC//58URKAwhVPkr3+KWL4dCvxJzv12KvAnofkljgX+m0LzSxzL+ZdanLqlF/KPvNwdgGSlWRzwHOdOOH3kvTtQsvSNVDrHNZuXVUsIyoz2WrjRekLjiu0Jmr9QOcN1B4kdevrsAMMzDqKRvBpdGoaMMYJevb9LXtw06TEI+oHwcumAEFnkAJ0NbVGwNn59BtrEyznk4qA8+W5rhRp/zprAqW8Grhvyg4F5O0jc/k6p3rXYqqPbp/DE34P88cLWFk4uQ6XerMZxThb0ZXSeCa56/ym12swOrdLo0UrJFeFLepCEaZOj8SnNQs0Fug5YNBnOmGyPrFyxg0EsSgRXJWyBEHdGTmZrbbu830Mxw7I2CsmzTOkOkdccFIdPxK56CJJKcXh0/8qQTTKie25ckxyr7XD3Mtck9NTZfFUIsJRHPC3pdhZOGCrkEi5F4dgBU/hEEJAabH82mqdvFRg4RDFuZ/UpZTXdaOR+kJFz9an21Za5OiqWRLvkjItyhHEfKfwgdhyxBL831+e5g5z/oUZafVtyq3O+J7Tx5adCIBahMXt0kC4AE73Js5urTkheWadRfNiLBusWkPd2cffpsovw8aM9pHtwhYpUfnZBrOAFclUh91opusPCIOkfCK9Rz0kZDol/9J/3RbNwweU43UuphTQ3TxecfWiOHFi03oZSX1e7kSzSakPvdG/wNblYJ0eUZs5jt40qcRyFLpktS+nVXBubC5EeZMqukSqCE6+NueP7HGmVOsGZ2eMFIaucFUDi2SBc05ZPygJDrA+kz+mwfh1kXDi1nSSPBVuMV5xVTjjpLAqkwkUAi67BoKPDp6X2nYNcoBIxKRmBZDjRSD15ePbG5NZVGjD0K/ciLqUgw6jZCxsrZFh88jXLuML50jsIaVfRx08+9feaqFz/MjCQCqicF+M06WozN9VB36gDOMu9Kj3RvkiAQVRz0xVtN8DdCO3P1UlTUIwNaNSPw0cBybDA+A0wr2dnNrVMXg8VS3jlnEc+WyujDoQja8+HWnpZc9RukKTsS4zhw9tUuUWNYnFnO3IGps4aXNJXoFp6fykVPTkceEf4owgo1WbnR2hNKlVI3OhKD+8DW3plqKEqE930VCjBroJ1IXhyTM90ruP+klrArdDQhQwdfiniUap1tw96l62MZnXG0moKTJHG3V0wJDksFyAR6hwj8AXnKb5Q85x4b59pL5czkGcW44fgYGDQvEgh6dL2PJrg25LNP3vGBvlH3nL+9oWXn4Tm2/Gjn4Tm3+f40Y+dxt6lO838j7zn7PhorB/2g23EghTDj8VjiaDq19ueDZ5OGSwwHTGRnYdjVhcr9gqfPWWxiumHaRuuhbya8QXOyfu0JkpvBVtnFkXRgY26oAek7K/Fcl/9J98w6FD65T311Qm4F/qpI7pd5VM72XexTXYXUJ5BPQeffSdmKHrCChgTsXJ6jOTjI/E39ZBb8CJerSuVIWPZH5tFrO2N8RWjYlf6DNuUwxYdlkd307XLflibrDlwTF3tg6UJXPPhnMPBbrpslB+1x9t8LswTkgYJSZ4yxI9np8fihaO6yZWTeL2d90roW/l5mew+RMesD7i/ZZi3NCgnT7ZgfUaQQ18eX0JgqdcXyw9JltMPRsSR0n6KF2dTQF9tXavgxKtZAj/casA87WnLqenpKmms5hdFWkaNjirWz8f02vs1NBmgnbgRocXFt4rpws8yBk7WVhdG7qKZXhHw1kTFIGqoaelRRoivjwGsgECSbxrrugMmybN8z+wpMbDDCrXeak1UzLRCDjopdcB4+Bs7wQ/6XbQ5f0COlTAlDKWIeuZgtTrvimPjxlLWnpti3nwnq/NZv77jvAiwk82Rq0TBiqLyIuwTDBdR/opEE/b8amBOs+OsW4F4nA/yDZI2vEQ6dTtde729hWGYWGUMu0RMKg9WokcaE1cAy+1JlRYdfQgEW3yePKdwC5UPM+h4JVHp4aeFOLvOIyjcdozbFE947HDsJoT7ImylW1zuu9NWUZnw4MJDU2X4vuassEiJzw9z2Qtg7rq4ExUyHbBMbdWCBnwRGWVlJLccZbPPCMvV9fz4tRRgoWNedHcLH/UWKGB8cmXFPOrhsz8ENDVXSYaxUnRwPgjD7AWRJDC72Ytcg0hnmE215/CDeMYohvbZvVWQLfKH2tYVaj52XT6WZllvZYR++kAqR6yiMK4ssjiiGJC0fAiQsfcn2piJXrFRyK1D2tT4g/DxWVYRFEXI8lDVltSpz9A6p2yn11Lj4PRal9GI8jE36ntYA2VBsyPfX2Hewc/u0U4vp3ptbW/GEFJDYfsWexCbh5fv+5/ecGbmQwSz+Qyp0jU25RkpDp5AHiIsE2e6Yh7YBUXhRn/axqA75aUafQ7C+tOAt4qS79FiJlWqfb4kwMC3RSFgCHpZ69GvAA8Xm/oZPn0jGwg0ZS98E9UYLcm8ds4je2spc9gR/vBeuAJbTzqTXqW0AR0MORf0NAKkimO8v5WsbHER9KFA8vTRANi5mn8M68fVvkmrf0xa/SVH/HyW/PahlJ+E5ts+4U9C87f7hHH7m9udPwNnGL/2jPuJc3fNO/zr0x++k+cvUpWmWf/1+5bJH2Kk562CquSvv4D5Z/bwr8vRf8j6770q+3W5+v8C6YA3aFhTAAA=";
                                TemplateUtils.applyRawTemplateNBT(stack, "Schem2DF Transferer", "CodeUtilities", templateData);
                                stack.setCustomName(new LiteralText("§b§lFunction §3» §dSchem2DF Transferer"));
                                ChatUtil.sendMessage("You received the §dSchem2DF Transferer§b! Place it down in your codespace and open the chest to get functions!",
                                        ChatType.INFO_BLUE);
                                ItemUtil.giveCreativeItem(stack, true);
                            } else {
                                ChatUtil.sendTranslateMessage("codeutilities.command.require_creative_mode", ChatType.FAIL);
                            }
                            return 1;
                        })
                );
        return literal;
    }

}
